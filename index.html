<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Currency Converter</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css">
  <!--  historical chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container" role="main">
    <h1><i class="fas fa-exchange-alt"></i> Currency Converter</h1>
    <p class="lead">Convert between currencies with live rates. Offline fallback included.</p>

    <div class="converter-box" aria-labelledby="converterTitle">
      <div class="amount-group">
        <label for="amount">Amount</label>
        <input id="amount" class="amount-input" type="number" min="0" step="any" value="1" aria-label="Amount to convert" />
      </div>

      <div class="currency-group">
        <div>
          <label for="fromCurrencyLabel">From</label>
         
          <input id="fromCurrency" class="currency-input" list="currencyList" value="USD" aria-label="From currency" />
          <datalist id="currencyList">
            <option value="USD">USD - United States Dollar</option>
<option value="EUR">EUR - Euro</option>
<option value="GBP">GBP - British Pound</option>
<option value="JPY">JPY - Japanese Yen</option>
<option value="CAD">CAD - Canadian Dollar</option>
<option value="AUD">AUD - Australian Dollar</option>
<option value="CHF">CHF - Swiss Franc</option>
<option value="CNY">CNY - Chinese Yuan</option>
<option value="INR">INR - Indian Rupee</option>
<option value="BRL">BRL - Brazilian Real</option>
<option value="NZD">NZD - New Zealand Dollar</option>
<option value="SEK">SEK - Swedish Krona</option>
<option value="NOK">NOK - Norwegian Krone</option>
<option value="MXN">MXN - Mexican Peso</option>
<option value="SGD">SGD - Singapore Dollar</option>
<option value="HKD">HKD - Hong Kong Dollar</option>
<option value="KRW">KRW - South Korean Won</option>
<option value="ZAR">ZAR - South African Rand</option>
<option value="TRY">TRY - Turkish Lira</option>
<option value="RUB">RUB - Russian Ruble</option>
<option value="PLN">PLN - Polish Złoty</option>
<option value="HUF">HUF - Hungarian Forint</option>
<option value="DKK">DKK - Danish Krone</option>
<option value="CZK">CZK - Czech Koruna</option>
<option value="MYR">MYR - Malaysian Ringgit</option>
<option value="THB">THB - Thai Baht</option>
<option value="IDR">IDR - Indonesian Rupiah</option>
<option value="PHP">PHP - Philippine Peso</option>
<option value="ILS">ILS - Israeli New Shekel</option>
<option value="SAR">SAR - Saudi Riyal</option>
<option value="AED">AED - UAE Dirham</option>
<option value="COP">COP - Colombian Peso</option>
<option value="CLP">CLP - Chilean Peso</option>
<option value="PKR">PKR - Pakistani Rupee</option>
<option value="EGP">EGP - Egyptian Pound</option>
<option value="NGN">NGN - Nigerian Naira</option>
<option value="BDT">BDT - Bangladeshi Taka</option>
<option value="VND">VND - Vietnamese Đồng</option>
<option value="RON">RON - Romanian Leu</option>
<option value="ARS">ARS - Argentine Peso</option>
<option value="KWD">KWD - Kuwaiti Dinar</option>
<option value="OMR">OMR - Omani Rial</option>
<option value="QAR">QAR - Qatari Riyal</option>
<option value="LKR">LKR - Sri Lankan Rupee</option>
<option value="GHS">GHS - Ghanaian Cedi</option>
<option value="KZT">KZT - Kazakhstani Tenge</option>
<option value="TWD">TWD - New Taiwan Dollar</option>
<option value="UAH">UAH - Ukrainian Hryvnia</option>
<option value="ISK">ISK - Icelandic Króna</option>
<option value="BHD">BHD - Bahraini Dinar</option>
<option value="DZD">DZD - Algerian Dinar</option>
<option value="IQD">IQD - Iraqi Dinar</option>
<option value="JOD">JOD - Jordanian Dinar</option>
<option value="MAD">MAD - Moroccan Dirham</option>
<option value="PAB">PAB - Panamanian Balboa</option>
<option value="PEN">PEN - Peruvian Sol</option>
<option value="UYU">UYU - Uruguayan Peso</option>
<option value="VES">VES - Venezuelan Bolívar Soberano</option>
<option value="XOF">XOF - CFA Franc BCEAO</option>
<option value="VEF">VEF - Venezuelan Bolívar Fuerte (Legacy)</option>
          </datalist>
        </div>

        <div>
          <button id="swapButton" class="swap-button" title="Swap currencies" aria-label="Swap currencies">
            <i class="fas fa-exchange-alt" aria-hidden="true"></i>
          </button>
        </div>

        <div>
          <label for="toCurrencyLabel">To</label>
          
          <input id="toCurrency" class="currency-input" list="currencyList" value="EUR" aria-label="To currency" />
        </div>
      </div>

      <div id="loader" class="loader" aria-hidden="true"></div>

      <div id="errorMessage" class="error-message" role="status" aria-live="polite">
        <i class="fas fa-exclamation-circle"></i>
        <span id="errorText">Failed to fetch exchange rates. Using fallback rates.</span>
      </div>

      <div class="result-box" aria-live="polite" aria-atomic="true">
        <div class="result-text">Converted Amount</div>
        <div id="resultAmount" class="result-amount" role="status" aria-live="polite">0.00</div>
        <div id="rateInfo" class="rate-info">Exchange rate: 1 USD = 0.00 EUR</div>
      </div>

      <div class="buttons">
        <button id="convertButton" class="btn btn-primary"> <i class="fas fa-sync-alt"></i> Convert </button>
        <button id="refreshButton" class="btn btn-secondary"> <i class="fas fa-refresh"></i> Refresh Rates </button> <!-- New refresh button -->
        <button id="resetButton" class="btn btn-secondary"> <i class="fas fa-redo"></i> Reset </button>
      </div>

      <div id="lastUpdated" class="last-updated">Last Updated: --</div>
    </div>

    <!--  Conversion History Section -->
    <div class="history-section">
      <button id="toggleHistory" class="btn btn-secondary" aria-expanded="false" aria-controls="historyList"> <i class="fas fa-history"></i> Toggle History </button>
      <ul id="historyList" class="history-list" hidden aria-labelledby="toggleHistory">
        
      </ul>
    </div>

    <!-- Historical Chart Section -->
    <div class="chart-section">
      <h2>Historical Rates (Last 7 Days)</h2>
      <canvas id="rateChart" width="400" height="200" aria-label="Historical exchange rate chart"></canvas>
    </div>

    <div class="footer">© 2025 Currency Converter — rates from public API with fallback</div>
  </div>

  <script src="script.js"></script>
</body>
</html>